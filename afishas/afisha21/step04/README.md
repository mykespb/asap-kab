Архив-афиша Событий АП
=================================

Этап 4
---------------------------------

Правка структуры БД на перспективу

Дата начала: 2021-04-24

Дата правки: 2021-05-01

Версия: 1.4.3

Действия
---------------------------------

Добавление столбцов про тип события,
события:
- разовые
  - концерт, выступление, лекция, ...
  - одна дата
  - м.б. связанными друг с другом или с большими событиями (напр., фестивалями)
- длительные
  - фестиваль, слёт. конференция. ... 
  - 2+ даты: [подготовка, отбор участниов] начало очного, конец очного, [постсобытийные разовые события]

Добавление столбца про жанр события,
на событиях могут быть не только АП-шные,
но нам интересные
(напр., лекция А.Мирзаяна про русский язык :) )
жанры: 
- АП, классика
- АП, пограничное
- не-АП
- ...

Правка столбца про статус,
сейчас это 
  - ok, если состоялось
  - cancel, если отменено (их 29)
  - postpone, если перенесено (их 0)
  - reschedule, если после переноса восстановлено
надо иметь строку тегов через пробел, 
с разными характеристиками события, плюс:
  - planned - если в планах
  - done, если состоялось
  - canceled, если отменено (их 29)
  - postponed, если перенесено (их 0)
  - rescheduled, если после переноса восстановлено
  +
  - active, если в силе
  - passive, временно отключено и не показывается, но м.б. потом включим, не пееренабирать же информацию, напр., инфа предварительная, просили пока не давать, но между собой стоит знать
?

Правка столбца про видимость:
сейчас это 
  - shown - надо показывать или было показано
надо
  - show - надо показывать
  - hide - спрятать
  - shown - было показано
  - hidden - было спрятано
или
  - show - надо показывать либо было показано
  - hide - спрятать или было спрятано
?

Добавление столбцов про организацию и ведущих.

Добавить в БД таблицы и столбцы оргов и т.п.

Обработать данные, получив дополнительные сведения о ценах, оргах, местах и т.п.

Добавить столбцы в json:

- jsonafter json -- параметры события (ведущий, цены, число зрителей, кто и какие делал записи, фото, и т.п.)

  - leader   (строка или список)
  - fotos    (список имён файлов)
  - audios   (список имён файлов)
  - videos   (список имён файлов)
  - prices   (строка)
  - visitors (строка)
  - remarks  (строка)
  - etc      (строка)

- jsonrefs json -- ссылки на сетевые ресурсы 
  (самого концерта, метасобытия (родительского события), оргов, клубов, страниц рекламы и т.п., 
  по возможности, с описаниями 
  и точно - с указанием типа ссылки (на событие, на рекламу, на орга, прочее непонятное встреченное)) 
    
    все в одном из следующих форматов: 
    "строка"
    список из словарей [{ключ-значение}, ...]
    где ключи: 
	url		сам урл
	desc		офиц. описание
	date		когда добавилли и посл. раз видели эту страницу
	editor		кто добавил
	remark		комментарии добавившего
    а значения - строки

      - refevent      
      - refparent
      - refclub
      - refplace
      - refads
      - reforgs
      - refplace
      - refetc
    
- jsonetc json -- всё прочее, что можно извлечь по данным, указанным человеком

    список из словарей [{ключ-значение}, ...]
    где ключи: 
	dt	(дата-время)
	editor  (кто добавил, для робота = auto)
	data	(сами данные - строка)

- jsonnotes json -- все примечания, оставленные редакторами

  [{person: "id/uuid", 
    dtcre: "iso", 
    dtmod: "iso", 
    note: "text", 
    uuid: "uuid of note"}, 
    ...]

- jsonauto json -- всё, что автоматически найдёт и заполнит робот
    ключи:
	common		общие данные
	dated		данные актуальные на конкретную дату
	temp		временные данные, сипользуемые внутри системы
    каждый - список словарей,
    ключи: 
	dt
	akey
	avalue

Обработать данные, получив дополнительные сведения о ценах, оргах, местах и т.п.

Согласовать правки с работающим сайтом.

Провести автообработку.
